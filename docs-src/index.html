<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Trellis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link rel="icon" type="image/ico" href="/favicon.ico"/>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Inconsolata&family=Lato:wght@300;400&display=swap');
    /* http://meyerweb.com/eric/tools/css/reset/
      v2.0 | 20110126
      License: none (public domain)
    */
    html, body, div, span, applet, object, iframe,
    h1, h2, h3, h4, h5, h6, p, blockquote, pre,
    a, abbr, acronym, address, big, cite, code,
    del, dfn, em, img, ins, kbd, q, s, samp,
    small, strike, strong, sub, sup, tt, var,
    b, u, i, center,
    dl, dt, dd, ol, ul, li,
    fieldset, form, label, legend,
    table, caption, tbody, tfoot, thead, tr, th, td,
    article, aside, canvas, details, embed,
    figure, figcaption, footer, header, hgroup,
    menu, nav, output, ruby, section, summary,
    time, mark, audio, video {
      margin: 0;
      padding: 0;
      border: 0;
      font-size: 100%;
      font: inherit;
      vertical-align: baseline;
    }
    /* HTML5 display-role reset for older browsers */
    article, aside, details, figcaption, figure,
    footer, header, hgroup, menu, nav, section {
      display: block;
    }
    body {
      line-height: 1;
    }
    ol, ul {
      list-style: none;
    }
    blockquote, q {
      quotes: none;
    }
    blockquote:before, blockquote:after,
    q:before, q:after {
      content: '';
      content: none;
    }
    table {
      border-collapse: collapse;
      border-spacing: 0;
    }

    /******/
    body {
      font-family: 'Lato', sans-serif;
      color: #444;
      overflow-x: hidden;
    }
    header {
      padding: 2rem 0;
      display: grid;
      grid-template-columns: 4rem auto 100px 100px 100px 4rem;
      align-items: center;
      text-align: center;
      width: 100%;
      position: absolute;
    }
    #logo {
      width: 200px;
      grid-column: 2;
    }
    .docs {
      padding: 0 12px;
      font-size: 18px;
    }
    .github {
      padding: 0 12px;
    }
    .github:hover {
      opacity: 0.6;
    }
    main {
      margin: 0 auto;
      padding: 1rem 4rem;
      max-width: 1200px;
    }
    #graph {
      height: 70vh;
    }
    #copy {
      padding: 2rem 0 3rem;
      text-align: center;
    }
    #scroll-arrow {
      color: #aaa;
      padding-bottom: 3rem;
      text-align: center;
    }
    #code {
      font-family: 'Inconsolata', monospace;
      padding-bottom: 2rem;
    }
    .keyword {
      color: #0A85FF;
    }
    .variable {
      color: #eaa91b;
    }
    .comment {
      color: #91AD49;
    }
    .symbol {
      color: #999;
    }
    .string {
      color: #7F5BCC;
    }
    footer {
      background: #eee;
      border-top: 1px solid #999;
      padding: 18px 0;
      text-align: center;
    }
    footer p {
      font-size: 16px;
      line-height: 1.6rem;
    }
    strong {
      color: #FFB71B;
      font-weight: 400;
    }
    p {
      font-size: 26px;
      font-weight: 300;
      line-height: 3rem;
    }
    a {
      color: #0A85FF;
      text-decoration: none;
    }
    a:visited {
      color: #0A85FF;
    }
    a:hover {
      color: #7BF;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>
    <span id="logo">
      <a href="https://sayari-analytics.github.io/trellis/">
        <img src="/logo.svg" alt="Trellis Logo">
      </a>
    </span>
    <a class="docs" href="https://sayari.com/company/careers/">Jobs</a>
    <a class="docs" href="/docs/index.html">Docs</a>
    <a class="github" href="https://github.com/sayari-analytics/trellis">
      <img src="/GitHub-Mark-32px.png" alt="github">
    </a>
  </header>
  <main>
    <div id="graph"></div>
    <section id="copy">
      <p>A high performance network visualization library with a simple, declarative API, plugable renderers, and bindings for different frameworks and use cases. Trellis renders to <strong>WebGL</strong>, <strong>Canvas</strong>, <strong>JPEG</strong>, and other targets.</p>
    </section>
    <section id="scroll-arrow">
      scroll for more
      <br />
      ⌄
      <!-- ᐯ -->
    </section>
    <section id="code">
<!-- HTML generated using hilite.me -->
<pre style="margin: 0; line-height: 125%">
  <span class="keyword">import</span> <span class="symbol">*</span> <span class="keyword">as</span> Force from <span class="string">&#39;@sayari/trellis/layout/force&#39;</span>
  <span class="keyword">import</span> <span class="symbol">*</span> <span class="keyword">as</span> WebGL from <span class="string">&#39;@sayari/trellis/renderers/webgl&#39;</span>

  <span class="comment">/* Initialize Data */</span>
  <span class="keyword">const</span> NODE_STYLE <span class="symbol">=</span> { color<span class="symbol">:</span> <span class="string">&#39;#999&#39;</span>, stroke<span class="symbol">:</span> [{ color<span class="symbol">:</span> <span class="string">&#39;#FFF&#39;</span>, width: <span class="variable">2</span> }, { color<span class="symbol">:</span> <span class="string">&#39;#F7CA4D&#39;</span>, width: <span class="variable">2</span> }] }
  <span class="keyword">const</span> EDGE_STYLE <span class="symbol">=</span> { arrow<span class="symbol">:</span> <span class="string">&#39;forward&#39;</span>, width<span class="symbol">:</span> <span class="variable">2</span>, stroke<span class="symbol">:</span> <span class="string">&#39;#CCC&#39;</span> }
  <span class="keyword">let</span> nodes <span class="symbol">=</span> [<span class="string">&#39;a&#39;</span>, <span class="string">&#39;b&#39;</span>, <span class="string">&#39;c&#39;</span>, <span class="string">&#39;d&#39;</span>, <span class="string">&#39;e&#39;</span>, <span class="string">&#39;f&#39;</span>].map((id) <span class="symbol">=&gt;</span> ({ id, radius: <span class="variable">18</span>, style: <span class="variable">NODE_STYLE</span> }))
  <span class="keyword">let</span> edges <span class="symbol">=</span> [[<span class="string">&#39;a&#39;</span>, <span class="string">&#39;b&#39;</span>], [<span class="string">&#39;a&#39;</span>, <span class="string">&#39;c&#39;</span>], [<span class="string">&#39;a&#39;</span>, <span class="string">&#39;d&#39;</span>], [<span class="string">&#39;c&#39;</span>, <span class="string">&#39;e&#39;</span>], [<span class="string">&#39;c&#39;</span>, <span class="string">&#39;f&#39;</span>]]
    .map(([source, target]) <span class="symbol">=&gt;</span> ({ id<span class="symbol">:</span> <span class="string">`${source}_${target}`</span>, source, target, style: <span class="variable">EDGE_STYLE</span> }))

  <span class="comment">/* Create Renderer and Layout */</span>
  <span class="keyword">const</span> container <span class="symbol">=</span> <span class="keyword">document</span>.querySelector(<span class="string">&#39;#graph&#39;</span>)
  <span class="keyword">const</span> render <span class="symbol">=</span> WebGL.Renderer({ container })
  <span class="keyword">const</span> force <span class="symbol">=</span> Force.Layout()

  <span class="comment">/* Create renderer properties and handlers */</span>
  <span class="keyword">const</span> renderOptions <span class="symbol">=</span> {
    width: <span class="variable">container.offsetWidth</span>,
    height: <span class="variable">container.offsetHeight</span>,
    onNodePointerEnter<span class="symbol">:</span> ({ target<span class="symbol">:</span> { id } }) <span class="symbol">=&gt;</span> {
      nodes.find((node) <span class="symbol">=&gt;</span> node.id <span class="symbol">===</span> id).style.stroke[<span class="symbol">1</span>].width <span class="symbol">=</span> <span class="symbol">4</span>
      render({ nodes, edges, options: <span class="variable">renderOptions</span> })
    },
    onNodePointerLeave<span class="symbol">:</span> ({ target<span class="symbol">:</span> { id } }) <span class="symbol">=&gt;</span> {
      nodes.find((node) <span class="symbol">=&gt;</span> node.id <span class="symbol">===</span> id).style.stroke[<span class="symbol">1</span>].width <span class="symbol">=</span> <span class="symbol">2</span>
      render({ nodes, edges, options: <span class="variable">renderOptions</span> })
    },
    onNodeDrag<span class="symbol">:</span> ({ nodeX: <span class="variable">x</span>, nodeY: <span class="variable">y</span>, target<span class="symbol">:</span> { id } }) <span class="symbol">=&gt;</span> {
      <span class="keyword">const</span> node <span class="symbol">=</span> nodes.find((node) <span class="symbol">=&gt;</span> node.id <span class="symbol">===</span> id)
      node.x <span class="symbol">=</span> x
      node.y <span class="symbol">=</span> y
      render({ nodes, edges, options: <span class="variable">renderOptions</span> })
    },
    onViewportDrag<span class="symbol">:</span> ({ viewportX, viewportY }) <span class="symbol">=&gt;</span> {
      renderOptions.x <span class="symbol">=</span> viewportX
      renderOptions.y <span class="symbol">=</span> viewportY
      render({ nodes, edges, options: <span class="variable">renderOptions</span> })
    },
  }

  <span class="comment">/* Run layout and render graph */</span>
  force({ nodes, edges }).then((graph) <span class="symbol">=&gt;</span> {
    nodes <span class="symbol">=</span> graph.nodes
    render({ nodes, edges, options: <span class="variable">renderOptions</span> })
  })
</pre>
    </section>
  </main>
  <footer>
    <p>
      Trellis is a project by <a href="https://sayari.com">Sayari Labs</a>.
    </p>
    <p>
      Look interesting? We're hiring. Check out our <a href="https://sayari.com/company/careers/">job posts</a>, or <a href="mailto:tech@sayari.com">get in touch</a>.
    </p>
  </footer>
  <script src="./index.ts"></script>
</body>
</html>
